# Health Check Tool

複数のURLに対して並列でHTTPヘルスチェックを実行し、結果をダッシュボードで可視化するツールです。

## 機能

- 🌐 ブラウザベースのインターフェース
- ⚡ 並列実行による高速なヘルスチェック
- 📊 リアルタイムダッシュボード（グラフ表示）
- 📈 ネットワーク指標の可視化（レイテンシ、応答時間）
- 🔄 自動リトライ機能（指数バックオフ）
- 💾 過去の結果の保存と履歴管理
- 🎨 美しいUIデザイン

## インストール

```bash
go build -o healthcheck.exe
```

## 使用方法

### サーバーの起動

```bash
./healthcheck.exe
```

デフォルトでポート8080で起動します。別のポートを指定する場合：

```bash
./healthcheck.exe -port 3000
# または
./healthcheck.exe -p 3000
```

### ブラウザでアクセス

1. ブラウザで `http://localhost:8080` を開く
2. URLリストをテキストエリアに入力（1行に1つのURL）
3. オプションを設定：
   - **並列度**: 同時に実行するリクエスト数（デフォルト: 10）
   - **タイムアウト**: 各リクエストのタイムアウト時間（秒、デフォルト: 30）
   - **リトライ回数**: 失敗時のリトライ回数（デフォルト: 3）
4. 「ヘルスチェック実行」ボタンをクリック

### URLリストの形式

```
https://example.com
https://api.example.com
https://www.google.com
# コメント行（#で始まる行は無視されます）
https://github.com
```

## 機能詳細

### ヘルスチェック結果

- **ステータスコード**: HTTPレスポンスのステータスコード
- **応答時間**: リクエスト送信からレスポンス受信までの時間
- **レイテンシ**: DNS解決から応答までの総時間
- **エラー情報**: エラーが発生した場合の詳細メッセージ

### ダッシュボード

ダッシュボードでは以下の情報を可視化します：

- **統計情報**: 総リクエスト数、成功数、失敗数、成功率、平均応答時間、平均レイテンシ
- **ステータスコード分布**: 円グラフで表示
- **応答時間分布**: ヒストグラムで表示
- **レイテンシ分布**: ヒストグラムで表示
- **詳細結果テーブル**: 各URLの詳細な結果

### 結果の保存

- チェック結果は自動的に `results/` ディレクトリにJSON形式で保存されます
- ファイル名は `results_YYYYMMDD_HHMMSS.json` 形式です
- 最新10件の結果が保持されます

## 技術仕様

- **タイムアウト**: デフォルト30秒（応答時間が30秒を超えた場合はエラー）
- **並列度**: デフォルト10（同時実行数）
- **リトライ**: デフォルト3回（指数バックオフ: 1秒、2秒、4秒）
- **レート制限**: 
  - 同一ドメイン: 1秒間に最大5リクエスト
  - 全体: 1秒間に最大50リクエスト

## エラーハンドリング

- ネットワーク接続エラー
- DNS解決エラー
- タイムアウトエラー
- HTTPエラー（4xx、5xx）
- SSL/TLS証明書エラー

エラーが発生した場合、ステータスコードとエラーメッセージが表示されます。

## ライセンス

MIT License
